!function(){class t{takeInput(t){this.resolveInput&&(this.resolveInput(t),this.resolveInput=void 0)}openInput(t){return t.openInput(this),new Promise((t=>{this.resolveInput=t}))}getProperties(){return this.properties}}class e{static ANIMATION_SETTINGS_DEFAULTS={animateTyping:!0,randomAnimation:!0,animationSpeed:20,delayAfter:250,blinkAfter:!1,removeBlinkAfterDelay:!0,delayBefore:0,blinkBefore:!1};constructor(t="",i=n.SOLO,s=0){this.content=t,this.type=i,this.indentLevel=s,this.animationSettings={...e.ANIMATION_SETTINGS_DEFAULTS},this.genElement()}genElement(){const t=document.createElement("div");t.classList.add("line"),this.content||(this.content="&nbsp;"),this.lineElement=t,this.applyAttributes()}applyAttributes(){this.lineElement.setAttribute("data-linetype",this.type.toLowerCase()),this.lineElement.setAttribute("data-indentlevel",`${this.indentLevel}`)}getContent(){return this.content}getType(){return this.type}getIndentLevel(){return this.indentLevel}getAnimationSettings(){return this.animationSettings}getElement(){return this.lineElement}setContent(t){return this.content=t,this}setType(t){return this.type=t,this.applyAttributes(),this}setIndentLevel(t){return this.indentLevel=t,this.applyAttributes(),this}setAnimationSettings(t){return this.animationSettings=t,this}setAnimateTyping(t){return this.animationSettings.animateTyping=t,this}setRandomAnimation(t){return this.animationSettings.randomAnimation=t,this}setAnimationSpeed(t){return this.animationSettings.animationSpeed=t,this}setDelayAfter(t){return this.animationSettings.delayAfter=t,this}setBlinkAfter(t){return this.animationSettings.blinkAfter=t,this}setRemoveBlinkAfterDelay(t){return this.animationSettings.removeBlinkAfterDelay=t,this}setDelayBefore(t){return this.animationSettings.delayBefore=t,this}setBlinkBefore(t){return this.animationSettings.blinkBefore=t,this}}let n;var i;(i=n||(n={})).RAW="RAW",i.SOLO="SOLO",i.START="START",i.END="END",i.INDENT="INDENT";const s=new Map;s.set(n.RAW,""),s.set(n.SOLO,"$"),s.set(n.START,s.get(n.SOLO)),s.set(n.END,s.get(n.SOLO)),s.set(n.INDENT,"%");class r{static propertySeperator="-";static propertyContentSeperator="||";static animationSettingsPrefix="(";static animationSettingsSuffix=")";static toString(t){const e=[];return t.getLines().forEach((t=>{e.push(this.lineToString(t))})),e.join("\n")}static toReadableString(t){const e=[];return t.getLines().forEach((t=>{e.push(this.lineToReadableString(t))})),e.join("\n")}static lineToString(t){const e=t.getAnimationSettings();let n="";return n+=t.getType()+r.propertySeperator,n+=t.getIndentLevel()+r.propertySeperator,n+=r.animationSettingsPrefix,Object.values(e).forEach(((t,i)=>{n+=t,i!==Object.keys(e).length-1&&(n+=r.propertySeperator)})),n+=r.animationSettingsSuffix,n+=r.propertyContentSeperator,n+=t.getContent(),n}static lineToReadableString(t){let e="";t.getType()===n.START&&(e+="\n");for(let n=0;n<t.getIndentLevel();n++)e+="\t";return e+=s.get(t.getType())+" ",e+=t.getContent(),t.getType()===n.END&&(e+="\n"),e}static linesFromString(t){const e=t.split("\n"),n=[];return e.forEach((t=>{const e=this.lineFromString(t);e&&n.push(e)})),n}static lineFromString(t){const i=t.split(r.propertyContentSeperator);if(2!==i.length)return;const s=new e,a=i[0].split(r.propertySeperator);s.setContent(i[1]);const o=a.splice(0,2),p=n[o[0].toUpperCase()];if(!p)return;s.setType(p);const h=isNaN(+o[1])?0:+o[1];s.setIndentLevel(h);const c=a.join(r.propertySeperator);if(!c.startsWith(r.animationSettingsPrefix)||!c.endsWith(r.animationSettingsSuffix))return;const l=c.replace(r.animationSettingsPrefix,"").replace(r.animationSettingsSuffix,"").split(r.propertySeperator),d=Object.keys(e.ANIMATION_SETTINGS_DEFAULTS);if(l.length!==d.length)return;const m={},u={...e.ANIMATION_SETTINGS_DEFAULTS};return d.forEach(((t,e)=>{const n=l[e],i=u[t],s=typeof i;let r;try{if(r=JSON.parse(n),typeof r!==s)throw new Error}catch(t){r=i}m[t]=r})),s.setAnimationSettings(m),s}}class a{values=[];constructor(...t){this.push(...t)}predict(t,e=!0,n=!0){if(!t)return"";const i=[];if(this.values.forEach((e=>{e.toLowerCase().startsWith(t.toLowerCase())&&i.push(e)})),!i.length)return"";if(e){const e=i[Math.floor(Math.random()*i.length)];return n?e.substring(t.length):e}return i}push(...t){this.values.push(...t)}set(t){this.values=t}}class o{array=[];pointer=0;constructor(...t){this.enter(...t)}enter(...t){t.forEach((t=>{this.array.push(t)}))}get(t,e){return e?this.array.slice(t,e):this.array.slice(1,1)[0]}rem(t,e){return e?this.array.splice(t,e):this.array.splice(1,1)[0]}remSpecific(t){const e=this.array.indexOf(t);return-1===e?void 0:this.array.splice(e,1)[0]}current(){return this.array[this.pointer]}next(){return this.array[this.pointer+1]?this.pointer++:this.toEnd(),this.current()}prev(){return this.array[this.pointer-1]?this.pointer--:this.toStart(),this.current()}toStart(){this.pointer=0}toEnd(){this.pointer=this.len()-1}to(t){this.pointer=t}add(t){this.pointer+=t}subtract(t){this.pointer-=t}divide(t){this.pointer/=t}multiply(t){this.pointer*=t}len(){return this.array.length}currPos(){return this.pointer}full(){return this.array}}function p(t,e,...n){return new Promise((i=>{const s=()=>i(n?e(...n):e());t?window.setTimeout(s,t):s()}))}class h{index=0;constructor(t){this.line=t,this.content=this.line.getContent(),this.element=this.line.getElement(),this.settings=this.line.getAnimationSettings()}start(){return this.element.classList.add("caret"),this.settings.blinkBefore&&this.element.classList.add("blinkcaret"),new Promise((t=>{this.resolve=t,p(this.settings.delayBefore,(()=>{this.element.classList.remove("blinkcaret"),this.settings.animateTyping?this.recurseType():this.stop()}))}))}recurseType(){if(this.index<this.content.length){p(this.settings.randomAnimation?Math.random()*this.settings.animationSpeed:this.settings.animationSpeed,(()=>{this.element.innerText+=this.content.charAt(this.index),this.element.scrollIntoView(),this.index++,this.recurseType()}))}else this.stop()}stop(){this.element.classList.remove("caret"),this.settings.blinkAfter&&this.element.classList.add("blinkcaret"),p(this.settings.delayAfter,(()=>{this.element.innerHTML=this.content,this.settings.removeBlinkAfterDelay&&this.element.classList.remove("blinkcaret"),this.resolve()}))}}class c{constructor(t,e){this.str=t,this.terminal=e,this.valid=this.parse()}parse(){if(!this.validate())return!1;const t=this.str.split(" ");this.identifier=t.splice(0,1)[0].trim().toLowerCase(),this.args=[...t];const e=this.terminal.getCommands().find((t=>t.getProperties().identifier.toLowerCase()===this.identifier));return!!e&&(this.command=e,!0)}validate(){return!!this.str.trim()&&!this.str.split(" ")[0].includes("'")}isValid(){return this.valid}hasArgs(){return!!this.args.length}getCommand(){return this.command}getIdentifier(){return this.identifier}getArgs(){return this.args}}const l=new class extends class{constructor(){this.parentElement=this.generateParentElement()}render(t,e="append"){"append"===e?t.appendChild(this.parentElement):t.prepend(this.parentElement)}getParentElement(){return this.parentElement}}{commands=[];lines=[];previousInputs=new o;cmdPredictor=new a;currentPrediction="";constructor(){super(),this.genCommandInputElement()}render(t,e="append"){"append"===e?t.appendChild(this.parentElement):t.prepend(this.parentElement)}async addLines(...t){for(let e=0;e<t.length;e++){const n=t[e];this.lines.push(n),this.parentElement.appendChild(n.getElement()),await new h(n).start()}}async addDefaults(){await this.addLines(new e("Enter a command... try 'projects' or 'help'").setDelayAfter(0)),this.openInput()}generateParentElement(){const t=document.createElement("section");return t.classList.add("terminal"),t.tabIndex=0,t}genCommandInputElement(){const t=document.createElement("span");t.classList.add("command_input"),t.contentEditable="true",t.spellcheck=!1,t.addEventListener("blur",(()=>{t.focus()})),t.addEventListener("keydown",(e=>{switch(e.key){case"Tab":e.preventDefault(),this.currentPrediction&&(this.commandInputElement.innerText+=this.currentPrediction,this.currentPrediction="",this.commandInputElement.setAttribute("data-prediction",this.currentPrediction));break;case"Enter":e.preventDefault(),""!==t.innerText.trim()&&(this.parentElement.removeChild(this.commandInputElement),this.dispatchCommand(this.commandInputElement.innerText),this.commandInputElement.innerText="");break;case"ArrowUp":this.commandInputElement.innerText=this.previousInputs.prev();break;case"ArrowDown":this.commandInputElement.innerText=this.previousInputs.next()}this.currentPrediction="",this.commandInputElement.setAttribute("data-prediction",this.currentPrediction)})),t.addEventListener("keyup",(t=>{switch(t.key){case"Backspace":{const t=this.commandInputElement.innerText;this.currentPrediction=this.cmdPredictor.predict(t),this.commandInputElement.setAttribute("data-prediction",this.currentPrediction);break}}})),t.addEventListener("keypress",(t=>{this.currentPrediction=this.cmdPredictor.predict(this.commandInputElement.innerText+t.key),this.commandInputElement.setAttribute("data-prediction",this.currentPrediction)})),this.commandInputElement=t}openInput(t="global"){this.parentElement.appendChild(this.commandInputElement),this.parentElement.focus(),this.commandInputElement.focus(),this.commandInputElement.scrollIntoView(),this.inputContext=t}dispatchCommand(t){if("global"!==this.inputContext)return void this.inputContext.takeInput(t);this.currentPrediction="",this.previousInputs.enter(t),this.previousInputs.to(this.previousInputs.len()-1);const n=new c(t,this);n.isValid()?n.getCommand().invoke(this,n.getArgs()):this.addLines(new e("That's not right... try 'help'?").setDelayAfter(0)).then((()=>{this.openInput()}))}clear(){this.lines=[],this.parentElement.innerHTML=""}registerCommands(...t){t.forEach((t=>{this.commands.push(t),this.cmdPredictor.set(this.getCommandIdentifiers())}))}getCommandInputElement(){return this.commandInputElement}getCommands(){return this.commands}getCommandIdentifiers(){return this.commands.map((t=>t.getProperties().identifier))}getLines(){return this.lines}};l.render(document.querySelector("body"),"prepend"),l.registerCommands(new class extends t{properties={identifier:"help",usage:"(page)"};PER_PAGE=5;async invoke(t,i){const s=[],r=[...t.getCommands()].filter((t=>!t.getProperties().hidden)),a=Math.ceil(r.length/this.PER_PAGE);let o,p;o=i[0]&&!isNaN(+i[0])?+i[0]:1,o=this.contain(o,a,1),p=r.splice((o-1)*this.PER_PAGE,this.PER_PAGE),s.push(new e(`Available commands: (${o}/${a})`,n.START).setAnimationSpeed(5).setDelayAfter(0)),p.forEach((t=>{const{identifier:i,usage:r,hidden:a}=t.getProperties();a||s.push(new e(`'${i}${r?` ${r}`:""}'`,n.INDENT,1).setAnimationSpeed(5).setDelayAfter(0))})),await t.addLines(...s),t.openInput()}contain(t,e,n){return(t=Math.round(t))>e&&(t=e),t<n&&(t=n),t}},new class extends t{properties={identifier:"projects"};async invoke(t){const i=[];i.push(new e("My projects:",n.START)),i.push(new e("This website",n.INDENT,1)),i.push(new e('<a target="_blank" href="https://www.npmjs.com/package/tmijs-commander">TMIJS Commander</a>',n.INDENT,1)),i.push(new e('<a target="_blank" href="https://zyrakia.github.io/HyperStatus/">HyperStatus (Abandoned, might redo someday)</a>',n.INDENT,1)),i.push(new e("Everything else is boring...",n.END)),await t.addLines(...i),t.openInput()}},new class extends t{properties={identifier:"about"};async invoke(t){const i=[];i.push(new e("About me:",n.START)),i.push(new e("",n.RAW)),i.push(new e("",n.RAW)),i.push(new e("I like web development.",n.INDENT,1)),i.push(new e("",n.RAW)),i.push(new e("",n.RAW)),i.push(new e("Who cares, try 'projects'.",n.END)),await t.addLines(...i),t.openInput()}},new class extends t{properties={identifier:"contact"};async invoke(t){const i=[];i.push(new e("My socials:",n.START)),i.push(new e('<a target="_blank" href="https://www.twitter.com/zyrakia">Twitter: @Zyrakia</a>',n.INDENT,1)),i.push(new e("Email: mailzyrakia@gmail.com",n.INDENT,1)),i.push(new e("But why contact me?!",n.END)),await t.addLines(...i),t.openInput()}},new class extends t{properties={identifier:"cls"};async invoke(t){t.clear(),t.openInput()}},new class extends t{properties={identifier:"reset",hidden:!0};async invoke(t){t.clear(),t.addDefaults()}},new class extends t{properties={identifier:"echo",usage:"[...contents]"};async invoke(t,i){const s=i.join(" ");if(!s)return await t.addLines(new e("Well at least give me something to echo...")),void t.openInput();await t.addLines(new e(`${s}`,n.RAW)),t.openInput()}},new class extends t{properties={identifier:"export"};async invoke(t){const n=r.toReadableString(t);navigator.clipboard.writeText(n),await t.addLines(new e("Saved terminal contents to clipboard.")),t.openInput()}},new class extends t{properties={identifier:"techexport",hidden:!0};async invoke(t){const n=r.toString(t);navigator.clipboard.writeText(n),await t.addLines(new e("Saved technical terminal contents to clipboard.")),t.openInput()}},new class extends t{properties={identifier:"goto",usage:"(url)"};async invoke(t,n){let i=n[0];i||(await t.addLines(new e("Where would you like to go?")),i=await this.openInput(t)),i.includes("https://")&&i.includes("http://")||(i="https://"+i);try{window.location.replace(i)}catch(n){await t.addLines(new e("How do you expect me to send you there!?")),t.openInput()}}},new class extends t{properties={identifier:"3.14",hidden:!0};PI1000="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989";async invoke(t){await t.addLines(new e(this.PI1000).setAnimationSpeed(1)),t.openInput()}}),window.addEventListener("load",(async()=>{const t=localStorage.getItem("previousLines");if(t){const e=r.linesFromString(t);e.forEach((t=>{t.setAnimateTyping(!1).setDelayAfter(0).setDelayBefore(0)})),await l.addLines(...e),localStorage.removeItem("previousLines"),l.openInput()}else l.addDefaults()})),window.addEventListener("beforeunload",(()=>{if(l.getLines().length>1){const t=r.toString(l);localStorage.setItem("previousLines",t)}}))}();
//# sourceMappingURL=index.6faae582.js.map
